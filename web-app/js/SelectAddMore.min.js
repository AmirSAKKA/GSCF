/**
 * Copyright (C) 2010 Jeroen Wesbeek
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function SelectAddMore(){}SelectAddMore.prototype={options:{rel:"addmore",url:"http://www.youtube.com/watch?v=2WNrx2jq184",vars:"vars",label:"add more...",style:"addmore",width:800,height:400,position:"center",onClose:function(a){}},init:function(a){var b=this;$.each(a,function(c,d){b.options[c]=d});$("select[rel*='"+b.options.rel+"']").each(function(){b.addOpenDialogOption(this)})},addOpenDialogOption:function(d){var g=this;var h=$(d);var m=h.children().size();var a=g.options.style;var k=g.options.label;var i=g.options.vars;var b=g.options.url;var c=g.options.width;var l=g.options.height;var j=g.options.onClose;var f=g.options.position;h.append('<option value="" class="'+a+'">'+k+"</option>");h.bind("change",function(){if(this.selectedIndex==m){var n=i.split(",");var o=b+"?";for(var e in n){var p=h.attr(n[e]);o+=n[e]+"="+((p)?p:"")+"&"}$('<iframe frameborder="0" src="'+o+'" sanbox="allow-same-origin" seamless />').dialog({title:k,autoOpen:true,width:c,height:l,modal:true,position:f,buttons:{Close:function(){$(this).dialog("close")}},close:function(){j(this)}}).width(c-10).height(l)}})}};